<div>
  {{session.recipientName}}
</div>

<section role="log" class="slds-chat">

  <div *ngIf="!loaded" class="slds-align_absolute-center" style="height: 4rem;">
    <div role="status" class="slds-spinner slds-spinner_medium slds-spinner_inline">
      <span class="slds-assistive-text">Loading</span>
      <div class="slds-spinner__dot-a"></div>
      <div class="slds-spinner__dot-b"></div>
    </div>
  </div>

  <ul class="slds-chat-list">

    <li *ngIf="showSessionEmptyMsg" class="slds-chat-listitem">
      <div class="slds-chat-bookend" style="border:0px">
        <span class="slds-icon_container slds-icon-utility-chat slds-chat-icon">
          <svg class="slds-icon slds-icon_x-small slds-icon-text-default" aria-hidden="true">
            <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#chat"></use>
          </svg>
        </span>
        <p>This is the start of your first session with
          <b>{{session.recipientName}}</b>. Please enter a message below to begin.</p>
      </div>
    </li>

    <li *ngFor="let message of sessionMessages" [ngClass]="{'slds-chat-listitem':true, 'slds-chat-listitem_inbound':!message.mine, 'slds-chat-listitem_outbound':message.mine}">
      <div class="slds-chat-message">
        <div class="slds-chat-message__body">
          <div [ngClass]="{'slds-chat-message__text':true, 'slds-chat-message__text_inbound':!message.mine, 'slds-chat-message__text_outbound':message.mine}">
            <span>{{message.text}}</span>
          </div>
          <div [ngSwitch]="message.mine">
            <div *ngSwitchCase="true" class="slds-chat-message__meta">You • {{message.createDate}}</div>
            <div *ngSwitchCase="false" class="slds-chat-message__meta">{{session.recipientName}} •
              {{message.createDate}}</div>
          </div>
        </div>
      </div>
    </li>

  </ul>
</section>

<div>
  <div class="slds-form-element">
    <div class="slds-form-element__control slds-input-has-icon slds-input-has-icon_left-right">
      <svg class="slds-icon slds-input__icon slds-input__icon_left slds-icon-text-default" aria-hidden="true">
        <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#chat" />
      </svg>
      <input placeholder="Type your message here..." [(ngModel)]="messageText" class="slds-input" type="text" value="" />
      <button *ngIf="messageText.length > 0" (click)="createMessage()" class="slds-button slds-input__icon slds-input__icon_right"
        title="Send">
        <svg class="slds-button__icon" aria-hidden="true">
          <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#send" />
        </svg>
        <span class="slds-assistive-text">Send</span>
      </button>
    </div>
  </div>
</div>